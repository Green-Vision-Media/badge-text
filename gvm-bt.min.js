const wcID=e=>document.getElementById(e),wcU=encodeURIComponent(window.location.href),newRequest=function(e=!0){fetch("https://api.websitecarbon.com/b?url="+wcU).then((function(e){if(!e.ok)throw Error(e);return e.json()})).then((function(t){e&&renderResult(t),t.t=(new Date).getTime(),localStorage.setItem("gvm-bt_"+wcU,JSON.stringify(t))})).catch((function(e){wcID("gvm-bt_g").innerHTML="This website runs on renewable energy.",console.log(e),localStorage.removeItem("gvm-bt_"+wcU)}))},renderResult=function(e){wcID("gvm-bt_g").innerHTML="This page produces "+e.c+"g of CO<sub>2</sub>/view; ",wcID("gvm-bt_2").insertAdjacentHTML("beforeEnd","cleaner than "+e.p+"% of pages tested.")},wcB=wcID("gvm-bt"),wcH='<span id="gvm-bt_g" style="background-color:transparent;font-family:inherit;font-size:inherit; border-style:none;">Measuring CO<sub>2</sub>&hellip;</span><span id="gvm-bt_2" style="background-color:transparent;font-family:inherit;font-size:inherit; border-style:none;"></span>';if("fetch"in window){wcB.insertAdjacentHTML("beforeEnd",wcH);let e=localStorage.getItem("gvm-bt_"+wcU);const t=(new Date).getTime();if(e){const n=JSON.parse(e);renderResult(n),t-n.t>864e5&&newRequest(!1)}else newRequest()}