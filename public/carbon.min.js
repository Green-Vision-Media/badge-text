let carbon=document.querySelector(".gv_carbon"),site=encodeURIComponent(window.location.href),newRequest=function(e=!0){fetch("https://api.websitecarbon.com/b?url="+site).then((function(e){if(!e.ok)throw Error(e);return e.json()})).then((function(n){e&&renderResult(n),n.t=(new Date).getTime(),localStorage.setItem("gv_"+site,JSON.stringify(n))})).catch((function(e){carbon.innerHTML="This website runs on renewable energy",console.log(e),localStorage.removeItem("gv_"+site)}))};const renderResult=function(e){carbon.innerHTML="This page produces "+e.c+"g of CO<sub>2</sub>/view, cleaner than "+e.p+"% of pages tested"};if("fetch"in window){carbon.innerHTML="Measuring CO<sub>2</sub>&hellip;";let e=localStorage.getItem("gv_"+site);const n=(new Date).getTime();if(e){const t=JSON.parse(e);renderResult(t),n-t.t>864e5&&newRequest(!1)}else newRequest()}